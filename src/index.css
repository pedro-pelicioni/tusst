@tailwind base;
@tailwind components;
@tailwind utilities;

/* T.U.S.S.T. Fantasy Design System
 * Epic high-fantasy theme with mystical colors and magical effects
 * All colors MUST be HSL format for proper theming
 */

@layer base {
  :root {
    /* Core fantasy palette */
    --background: 217 19% 8%;          /* Deep stone gray */
    --foreground: 45 25% 85%;          /* Warm parchment */

    --card: 217 19% 12%;               /* Slightly lighter stone */
    --card-foreground: 45 25% 85%;

    --popover: 217 19% 10%;
    --popover-foreground: 45 25% 85%;

    /* Mystical primary - Molten gold */
    --primary: 43 96% 56%;             /* Bright magical gold */
    --primary-foreground: 217 19% 8%;  /* Dark for contrast */

    /* Ethereal secondary - Deep arcane purple */
    --secondary: 262 52% 25%;          /* Rich purple */
    --secondary-foreground: 45 25% 85%;

    /* Muted stone textures */
    --muted: 217 19% 15%;
    --muted-foreground: 45 12% 65%;

    /* Mystical accent - Electric blue */
    --accent: 220 75% 60%;             /* Bright magical blue */
    --accent-foreground: 217 19% 8%;

    --destructive: 0 65% 50%;          /* Dragon fire red */
    --destructive-foreground: 45 25% 85%;

    --border: 217 19% 20%;             /* Subtle stone border */
    --input: 217 19% 15%;
    --ring: 43 96% 56%;                /* Golden focus ring */

    --radius: 0.75rem;

    /* Custom fantasy tokens */
    --rune-glow: 43 96% 56%;           /* Golden rune glow */
    --magic-blue: 220 75% 60%;         /* Ethereal blue magic */
    --portal-purple: 262 52% 45%;      /* Portal energy */
    --forge-orange: 25 95% 55%;        /* Forge fire */
    --shadow-depth: 217 19% 5%;        /* Deep shadows */

    /* Gradients */
    --gradient-portal: linear-gradient(135deg, hsl(262 52% 25%), hsl(220 75% 35%));
    --gradient-forge: linear-gradient(135deg, hsl(25 95% 35%), hsl(43 96% 45%));
    --gradient-mystical: linear-gradient(135deg, hsl(43 96% 56%), hsl(220 75% 60%));
    
    /* Text shadows and glows */
    --text-glow: 0 0 20px hsl(43 96% 56% / 0.5);
    --magic-glow: 0 0 30px hsl(220 75% 60% / 0.6);
    --rune-shadow: 2px 2px 8px hsl(217 19% 5% / 0.8);
  }

  .dark {
    /* Dark mode uses same values - this is a dark fantasy theme */
    --background: 217 19% 8%;
    --foreground: 45 25% 85%;
    --card: 217 19% 12%;
    --card-foreground: 45 25% 85%;
    --popover: 217 19% 10%;
    --popover-foreground: 45 25% 85%;
    --primary: 43 96% 56%;
    --primary-foreground: 217 19% 8%;
    --secondary: 262 52% 25%;
    --secondary-foreground: 45 25% 85%;
    --muted: 217 19% 15%;
    --muted-foreground: 45 12% 65%;
    --accent: 220 75% 60%;
    --accent-foreground: 217 19% 8%;
    --destructive: 0 65% 50%;
    --destructive-foreground: 45 25% 85%;
    --border: 217 19% 20%;
    --input: 217 19% 15%;
    --ring: 43 96% 56%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Crimson Text', serif;
  }

  /* Smooth scrolling for the entire page */
  html {
    scroll-behavior: smooth;
  }

  /* Fantasy text effects */
  .fantasy-heading {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    text-shadow: var(--rune-shadow);
    letter-spacing: 0.05em;
  }
  
  .mystical-glow {
    text-shadow: var(--text-glow);
  }
  
  .magic-glow {
    text-shadow: var(--magic-glow);
  }

  /* Fire Sparks Effect */
  .spark {
    background-color: #DE4A00;
    visibility: hidden;
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 30%;
    box-shadow: 0 0 5px #AB000B;
    pointer-events: none;
    z-index: 15;
  }

  /* Custom animations */
  .rune-pulse {
    animation: rune-pulse 3s ease-in-out infinite;
  }
  
  .float-gentle {
    animation: float-gentle 6s ease-in-out infinite;
  }
  
  .portal-spin {
    animation: portal-spin 20s linear infinite;
  }
}

@keyframes rune-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes float-gentle {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes portal-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(40px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes card-flip {
  0% {
    transform: rotateY(0deg);
  }
  50% {
    transform: rotateY(90deg);
  }
  100% {
    transform: rotateY(0deg);
  }
}

@layer utilities {
  /* Gradient utilities */
  .bg-gradient-portal {
    background: var(--gradient-portal);
  }
  
  .bg-gradient-forge {
    background: var(--gradient-forge);
  }
  
  .bg-gradient-mystical {
    background: var(--gradient-mystical);
  }
}

/* Game Cards Effect */
:root {
  --card-height: 400px;
  --card-width: calc(var(--card-height) / 1.5);
}

.game-card-evolution {
  width: var(--card-width);
  height: var(--card-height);
  position: relative;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  perspective: 2500px;
  cursor: pointer;
}

.card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 12px;
  position: absolute;
  top: 0;
  left: 0;
}

.base-card {
  opacity: 1;
  transition: opacity 0.5s ease;
  z-index: 2;
}

.evolved-card {
  opacity: 0;
  transition: opacity 0.5s ease;
  z-index: 1;
}

.card-wrapper {
  transition: transform 0.1s ease-out;
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 12px;
  overflow: hidden;
  transform-style: preserve-3d;
}

.game-card-evolution:hover .card-wrapper {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

.game-card-evolution:hover .base-card {
  opacity: 0;
}

.game-card-evolution:hover .evolved-card {
  opacity: 1;
}

.card-wrapper::before,
.card-wrapper::after {
  content: "";
  opacity: 0;
  width: 100%;
  height: 80px;
  transition: all 0.5s ease;
  position: absolute;
  left: 0;
  border-radius: 12px;
  z-index: 3;
}

.card-wrapper::before {
  top: 0;
  height: 100%;
  background-image: linear-gradient(
    to top,
    transparent 46%,
    rgba(19, 0, 28, 0.5) 68%,
    rgba(19, 0, 28, 0.9) 97%
  );
}

.card-wrapper::after {
  bottom: 0;
  opacity: 0.3;
  background-image: linear-gradient(
    to bottom,
    transparent 46%,
    rgba(19, 0, 28, 0.5) 68%,
    rgba(19, 0, 28, 0.9) 97%
  );
}

.game-card-evolution:hover .card-wrapper::before,
.game-card-evolution:hover .card-wrapper::after {
  opacity: 0.8;
}

.game-card-evolution:hover .card-wrapper::after {
  height: 120px;
}

/* Fire Sparks Effect for Tutorials Section */
.fire-sparks-container {
  width: 100%;
  height: 100%;
  position: absolute;
  pointer-events: none;
  overflow: hidden;
  top: 0;
  left: 0;
}

.spark {
  width: 6px;
  height: 6px;
  position: absolute;
  transform: translateY(-10vh);
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

.spark_inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  mix-blend-mode: screen;
  background-image: radial-gradient(#ffd900 0%, #fff9c1 10%);
  box-shadow: 0 0 0.9375em 0.1875em #f8a63a;
  animation-name: scaling;
  animation-iteration-count: infinite;
}

@keyframes scaling {
  0% { transform: scale3d(0.4, 0.4, 1) }
  50% { transform: scale3d(1.4, 1.4, 1) }
  100% { transform: scale3d(0.4, 0.4, 1) }
}